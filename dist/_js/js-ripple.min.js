/*
 * js-ripple - v1.0.0 - 2016-07-29
 * Ripple effects
 * https://github.com/vmitsaras/js-button
 * Copyright (c) 2016 Vasileios Mitsaras (@vmitsaras)
 * License MIT
 */
!function(a,b){"use strict";var c="ripple",d=c+"-component",e=a.utils;a.componentNamespace=a.componentNamespace||{};var f=a.componentNamespace.Ripple=function(a,d){if(!a)throw new Error("Element required to initialize object");this.element=a,this.$element=b(a),this.options=d=d||{},this.metadata=e.getMetaOptions(this.element,c),this.options=b.extend({},this.defaults,this.metadata,d)};f.prototype.init=function(){this.$element.data(d)||(this.$element.data(d,this),e.supportAnimations&&(this.isAnimating=!1,this.$element.trigger("beforecreate."+c),this._create(),this.$element.bind("mousedown",this._animate.bind(this))))},f.prototype.refresh=function(){var a=this,b=Math.max(a.$element.outerWidth(),a.$element.outerHeight())/this.options.widthDivider;this.$ripple.css({height:b,width:b}),this.$element.trigger("refreshed."+c)},f.prototype._create=function(){var d=this,f=this.options,g=[f.baseClass];f.modifiers&&e.cssModifiers(f.modifiers,g,f.baseClass),this.$ripple=b("<span></span>").addClass(g.join(" ")).appendTo(this.$element),this.refresh(),this.$element.trigger("create."+c),b(a.document).on("refresh."+c,function(){d.refresh()})},f.prototype._animate=function(){var a,b,c,d=this;this.isAnimating||(this.isAnimating=!0,c=this._getPoint(event),this.downX=c.x,this.downY=c.y,a=this.downX-this.$element.offset().left-this.$ripple.width()/2,b=this.downY-this.$element.offset().top-this.$ripple.height()/2,this.$ripple.css({top:b+"px",left:a+"px"}).addClass(e.classes.isAnimating),this.$element.addClass(e.classes.isClicked),e.onEndAnimation(this.$ripple[0],function(){d.$element.removeClass(e.classes.isClicked),d.$ripple.removeClass(e.classes.isAnimating),d.isAnimating=!1}))},f.prototype._getPoint=function(a){var b=a.touches||a.originalEvent&&a.originalEvent.touches;return b?{x:b[0].pageX,y:b[0].pageY}:{x:a.pageX||a.clientX,y:a.pageY||a.clientY}},f.prototype.defaults={baseClass:"o-ripple",modifiers:null,widthDivider:4},f.defaults=f.prototype.defaults}(this,jQuery),function(a,b){"use strict";var c="ripple",d=".js-"+c;b.fn[c]=function(){return this.each(function(){new a.componentNamespace.Ripple(this).init()})},b(document).bind("enhance",function(a){b(b(a.target).is(d)&&a.target).add(d,a.target).filter(d)[c]()})}(this,jQuery);