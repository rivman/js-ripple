/*
 * js-ripple - v1.0.0 - 2016-07-29
 * Ripple effects
 * https://github.com/vmitsaras/js-button
 * Copyright (c) 2016 Vasileios Mitsaras (@vmitsaras)
 * License MIT
 */
!function(a){"use strict";var b={};b.classes={hiddenVisually:"u-hidden-visually",modifier:"--",isActive:"is-active",isClosed:"is-closed",isOpen:"is-open",isClicked:"is-clicked",isAnimating:"is-animating",hidden:"u-hidden"},b.keyCodes={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},b.a11yclick=function(a){var c=a.charCode||a.keyCode,d=a.type;return"click"===d||"keydown"===d&&(c===b.keyCodes.SPACE||c===b.keyCodes.ENTER||void 0)},b.doc=a.document,b.supportTransition=Modernizr.csstransitions,b.supportAnimations=Modernizr.cssanimations,b.transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},b.animEndEventNames={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},b.transEndEventName=b.transEndEventNames[Modernizr.prefixed("transition")],b.animEndEventName=b.animEndEventNames[Modernizr.prefixed("animation")],b.onEndTransition=function(a,c){var d=function(a){if(b.supportTransition){if(a.target!=this)return;this.removeEventListener(b.transEndEventName,d)}c&&"function"==typeof c&&c.call()};b.supportTransition?a.addEventListener(b.transEndEventName,d):d()},b.onEndAnimation=function(a,c){var d=function(a){if(b.supportAnimations){if(a.target!=this)return;this.removeEventListener(b.animEndEventName,d)}c&&"function"==typeof c&&c.call()};b.supportAnimations?a.addEventListener(b.animEndEventName,d):d()},b.createModifierClass=function(a,c){return a+b.classes.modifier+c},b.cssModifiers=function(a,c,d){for(var e=a.split(","),f=0,g=e.length;f<g;f++)c.push(b.createModifierClass(d,e[f]))},b.getMetaOptions=function(a,b,c){var d="data-"+b,e=d+"-options",f=a.getAttribute(d)||a.getAttribute(e);try{return f&&JSON.parse(f)||{}}catch(g){return void(console&&console.error("Error parsing "+d+" on "+a.className+": "+g))}},a.utils=b}(this),function(a,b){"use strict";var c="ripple",d=c+"-component",e=a.utils;a.componentNamespace=a.componentNamespace||{};var f=a.componentNamespace.Ripple=function(a,d){if(!a)throw new Error("Element required to initialize object");this.element=a,this.$element=b(a),this.options=d=d||{},this.metadata=e.getMetaOptions(this.element,c),this.options=b.extend({},this.defaults,this.metadata,d)};f.prototype.init=function(){this.$element.data(d)||(this.$element.data(d,this),e.supportAnimations&&(this.isAnimating=!1,this.$element.trigger("beforecreate."+c),this._create(),this.$element.bind("mousedown",this._animate.bind(this))))},f.prototype.refresh=function(){var a=this,b=Math.max(a.$element.outerWidth(),a.$element.outerHeight())/this.options.widthDivider;this.$ripple.css({height:b,width:b}),this.$element.trigger("refreshed."+c)},f.prototype._create=function(){var d=this,f=this.options,g=[f.baseClass];f.modifiers&&e.cssModifiers(f.modifiers,g,f.baseClass),this.$ripple=b("<span></span>").addClass(g.join(" ")).appendTo(this.$element),this.refresh(),this.$element.trigger("create."+c),b(a.document).on("refresh."+c,function(){d.refresh()})},f.prototype._animate=function(){var a,b,c,d=this;this.isAnimating||(this.isAnimating=!0,c=this._getPoint(event),this.downX=c.x,this.downY=c.y,a=this.downX-this.$element.offset().left-this.$ripple.width()/2,b=this.downY-this.$element.offset().top-this.$ripple.height()/2,this.$ripple.css({top:b+"px",left:a+"px"}).addClass(e.classes.isAnimating),this.$element.addClass(e.classes.isClicked),e.onEndAnimation(this.$ripple[0],function(){d.$element.removeClass(e.classes.isClicked),d.$ripple.removeClass(e.classes.isAnimating),d.isAnimating=!1}))},f.prototype._getPoint=function(a){var b=a.touches||a.originalEvent&&a.originalEvent.touches;return b?{x:b[0].pageX,y:b[0].pageY}:{x:a.pageX||a.clientX,y:a.pageY||a.clientY}},f.prototype.defaults={baseClass:"o-ripple",modifiers:null,widthDivider:4},f.defaults=f.prototype.defaults}(this,jQuery),function(a,b){"use strict";var c="ripple",d=".js-"+c;b.fn[c]=function(){return this.each(function(){new a.componentNamespace.Ripple(this).init()})},b(document).bind("enhance",function(a){b(b(a.target).is(d)&&a.target).add(d,a.target).filter(d)[c]()})}(this,jQuery);